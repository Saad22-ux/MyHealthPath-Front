<div class="dashboard-container">
  <div *ngIf="loading" class="loading">Loading...</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <div *ngIf="statistics" class="stats-grid">
    <!-- Summary Cards -->
    <div class="summary-cards">
      <div class="card summary-card">
        <h3>Medications Taken</h3>
        <div class="stat-value">{{ statistics.medicamentsPris }}</div>
      </div>

      <div class="card summary-card">
        <h3>Indicators Measures</h3>
        <div class="stat-value">{{ statistics.indicateursMesures }}</div>
      </div>
    </div>

    <!-- Medicaments Details -->
    <div class="card details-card">
      <h3>Medications Details</h3>
      <ul class="details-list">
        <li *ngFor="let med of statistics.suiviMedicamentStats" class="detail-item">
          <div class="detail-header">
            <span class="med-name">{{ med.Medicament.name }}</span>
            <span class="med-status" [ngClass]="{'taken': med.pris, 'not-taken': !med.pris}">
              {{ med.pris ? 'Taken' : 'Not taken' }}
            </span>
          </div>
          <div class="med-info">
            <div><strong>Dose:</strong> {{ med.Medicament.dose }}</div>
            <div><strong>Frequency:</strong> {{ med.Medicament.frequency }}</div>
            <div><strong>Date:</strong> {{ med.JournalSante.date | date:'mediumDate' }}</div>
          </div>
        </li>
      </ul>
    </div>

    <!-- Indicateurs Details -->
    <div class="card details-card">
      <h3>Indicators Details</h3>
      <ul class="details-list">
        <li *ngFor="let ind of statistics.suiviIndicateurStats" class="detail-item">
          <div class="detail-header">
            <span class="ind-name">{{ ind.Indicateur.nom }}</span>
            <span class="ind-status" [ngClass]="{'measured': ind.mesure, 'not-measured': !ind.mesure}">
              {{ ind.mesure ? 'Measured' : 'Not Measured' }}
            </span>
          </div>
          <div class="ind-info">
            <div><strong>Value:</strong> {{ ind.mesure ? ind.valeur : 'N/A' }}</div>
            <div><strong>Date:</strong> {{ ind.JournalSante.date | date:'mediumDate' }}</div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
