<div class="profile-container">
  <div class="profile-header">
    <h2>My Profile</h2>
  </div>

  <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="profile-form">
    <div class="form-grid">
      <!-- Section Informations Personnelles -->
      <div class="form-section personal-info">
        <h3><i class="fas fa-user"></i> Personal Information</h3>
        
        <div class="photo-upload">
          <div class="photo-preview-container" (click)="fileInput.click()">
            <img [src]="photoPreview || 'assets/default-avatar.png'" alt="Photo de profil" class="profile-photo" />
            <div class="upload-overlay">
              <i class="fas fa-camera"></i>
              <span>Change profil picture</span>
            </div>
          </div>
          <input #fileInput type="file" (change)="onFileSelected($event)" accept="image/*" style="display: none;" />
        </div>

        <div class="form-group">
          <label for="fullName">FullName</label>
          <input type="text" id="fullName" formControlName="fullName" placeholder="Your full name" />
        </div>

        <div class="form-group">
          <label for="genre">Gender</label>
          <select id="genre" formControlName="genre">
            <option value="">-- Choose --</option>
            <option value="homme">Homme</option>
            <option value="femme">Femme</option>
          </select>
        </div>

        <div class="form-group">
          <label for="date_naissance">Birth date</label>
          <input type="date" id="date_naissance" formControlName="date_naissance" />
        </div>

        <div class="form-group">
          <label for="cin">CIN</label>
          <input type="text" id="cin" formControlName="cin" placeholder="Your identification number" />
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <input type="password" id="password" formControlName="password" placeholder="Your password" />
        </div>
      </div>

      <!-- Section Contact -->
      <div class="form-section contact-info">
        <h3><i class="fas fa-address-book"></i> Contact details</h3>
        
        <div class="form-group">
          <label for="email">Email address</label>
          <input type="email" id="email" formControlName="email" placeholder="your.email@example.com" />
        </div>

        <div class="form-group">
          <label for="telephone">Phone number</label>
          <input type="text" id="telephone" formControlName="telephone" placeholder="+XXX XX XXX XX XX" />
        </div>

        <div class="form-group">
          <label for="adress">Address</label>
          <input type="text" id="adress" formControlName="adress" placeholder="Your address" />
        </div>
      </div>

      <!-- Section Medical -->
      <div class="form-section medical-info">
        <h3><i class="fas fa-heartbeat"></i> Medical Information</h3>
        
        <div class="form-group">
          <label for="taille">Height</label>
          <input type="number" id="taille" formControlName="taille" placeholder="170" />
        </div>

        <div class="form-group">
          <label for="poids">Weight</label>
          <input type="number" id="poids" formControlName="poids" placeholder="70" />
        </div>
      </div>
    </div>

    <div class="form-actions">
      <button type="submit" class="btn-primary" [disabled]="loading">
        <i class="fas fa-save"></i> Update
      </button>
    </div>

    <div *ngIf="successMsg" class="status-message">
      {{ successMsg }}
    </div>

    <div *ngIf="errorMsg" class="error-message">
      {{ errorMsg }}
    </div>
  </form>
</div>